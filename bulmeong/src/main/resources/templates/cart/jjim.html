<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/header::head('목록')}"></head>
<body>

	<script>
		$(function(){
			fn_showHide();
		});
		
		function fn_showHide(){
			
			$('#data').hide();
			
			$('#addCart').click(function(){
				$('#data').show();
			});
			
			$('#cancel').click(function(){
				$('#data').hide();
			});
			
		}
	</script>
	
	<script>  // 여기 기능구현 코드 추가하기
		$("#add").click(function(){
			var campNo = $("#campNo").val();  
			var count = $("#count").val(); 
			
			var data = {
				campNo : campNo,
				count : count
			}; 
			
			$.ajax({
				url : "/cart/addCart",
				type : "post",
				data : data,
				success : function(result) {
					if(result == 1) {
						alert("카트 담기 성공");
						$("#count").val("1");
					} else {
						alert("회원만 사용할 수 있습니다.")
						$("#count").val("1");
					}
				},
				error : function(){
					alert("카트 담기 실패");
				}
			});
		});
	</script>
	
	<form method="post" action="$/cart/jjim">
	<input type="hidden" name="campNo" value="${camp.campNo}">
	<input type="hidden" name=id value="${id}"> 
    <input type="hidden" name="price" value="${camp.price}">
	<th:if test="${id != null}">
		<div>
			<input type="button" value="찜하기" id="addCart">
		</div>
		<div id="data">
			<div>
				<label id="count">인원수</label> 
				<input type="number" id="count" min="1" max="${camp.mod}" value="1"/>
				</div>
			        <input type="button" value="추가하기" id="add">
			        <input type="button" value="취소하기" id="cancel">
				<div>
			</div>
		</div>
	</th:if>
</form>

	
	
	
</body>
</html>