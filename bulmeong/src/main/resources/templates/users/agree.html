<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout/header::head('약관 동의')}"></head>
<head>
	<style>
		/*
		.blind {
			display: none;
		}
		.lbl_all, .lbl_one {
			padding-left: 20px;
			background-image: url(/images/userimage/uncheck.png);
			background-size: 18px 18px;
			background-repeat: no-repeat;
		}
		.lbl_checked {
			background-image: url(/images/userimage/check.png);
		}
		*/
		.div_all {
			width:460px;
			margin: 0 auto;
		}
		.div_all  div {
			margin-bottom: 10px;
		}
		.div_btn {
			text-align: center;
		}
		
		h1{
			margin:50px 0;
		}
		
		.btn_submit {
			width: 150px;
			height: 50px;
			border-radius: 7px;
			border: none;
			background-color: rgb(3, 199, 90);
			/*background-color: rgb(113, 194, 133);*/
			color: white;
		}
		
		.btn_cancel {
			width: 150px;
			height: 50px;
			border-radius: 7px;
			border: none;
     		background-color: rgb(142, 142, 142);
			color: white;
		}
		
		label{
		 font-size: 18px;
		 font-weight: 700;
		}
	</style>
	<script>
		$(function(){
			fn_checkAll();
			fn_checkOne();
			//fn_toggleCheck();
			fn_submit();
		});
		
		function fn_checkAll(){
			$('#check_all').click(function(){
				$('.check_one').prop('checked', $(this).prop('checked'));
				/*
				if($(this).is(':checked')){  
					$('.lbl_one').addClass('lbl_checked');
				} else {
					$('.lbl_one').removeClass('lbl_checked');
				}*/
			});
		}
		
		function fn_checkOne(){
			$('.check_one').click(function(){
				let checkCnt = 0;
				for(let i=0; i < $('.check_one').length; i++){
					checkCnt += $($('.check_one')[i]).prop('checked');
				}
				$('#check_all').prop('checked', $('.check_one').length == checkCnt);	
				/*
				if($('#check_all').is(':checked')){
					$('.lbl_all').addClass('lbl_checked');
				} else {
					$('.lbl_all').removeClass('lbl_checked');
				}*/
			});
		}
		/*
		function fn_toggleCheck(){
			$('.lbl_all, .lbl_one').click(function(){
				$(this).toggleClass('lbl_checked');
			})
		}
		*/
		function fn_submit(){
			$('#frm_agree').submit(function(event){
				if($('#service').is(':checked') == false || $('#privacy').is(':checked') == false){
					alert('필수 약관에 동의하세요.');
					event.preventDefault();
					return;
				}
			});
		}
		
	</script>
</head>
<body>

	<a th:href="@{/}"><img th:src="@{/images/index/불멍로고.png}" width="200px" style="margin: 10px"></a>

	<!-- <header th:replace="~{layout/header::header_layout}"></header> -->

	<h1>약관 동의하기</h1>
	
	<div class="div_all">
		
		<form id="frm_agree" th:action="@{/users/join/write}" method="get">
			<div>
				<div class="form-check form-switch" style="display: inline-block;">
					<input type="checkbox" id="check_all" class="form-check-input" role="switch">
					<label for="check_all" class="orm-check-label">모두 동의</label>
				</div>
			</div>
			<div class="form-check form-switch" style="display: inline-block;">
				<input type="checkbox" id="service" class="check_one form-check-input" role="switch">
				<label for="service" class="orm-check-label">이용약관 동의(필수)</label> <!-- checkbox는 체크하면 name과 value 없어도 넘어간다. -->
			</div>
			<div>
				<textarea readonly style="width:450px; height:80px;">이용약관</textarea>
			</div>
			<div class="form-check form-switch" style="display: inline-block;">
				<input type="checkbox" id="privacy" class="check_one form-check-input" role="switch">
				<label for="privacy" class="orm-check-label">개인정보수집 동의(필수)</label>
			</div>
			<div>
				<textarea readonly style="width:450px; height:80px;">개인정보수집</textarea>
			</div>
			<div class="form-check form-switch" style="display: inline-block;">
				<input type="checkbox" id="location" class="check_one form-check-input" role="switch" name="location"> <!-- checkbox는 체크 안 하면 안 넘어간다. -->
				<label for="location" class="form-check-label">위치정보수집 동의(선택)</label>
			</div>
			<div>
				<textarea readonly style="width:450px; height:80px;">위치정보수집</textarea>
			</div>
			<div class="form-check form-switch" style="display: inline-block;">
				<input type="checkbox" id="promotion" class="check_one form-check-input" role="switch" name="promotion">
				<label for="promotion" class="form-check-label">마케팅 동의(선택)</label>
			</div>
			<div>
				<textarea readonly style="width:450px; height:80px;">이건 나중에 생각하자</textarea>
			</div>
			<div class="div_btn">
				<input type="button" class="btn_cancel" value="취소" onclick="history.back();">
				<button class="btn_submit">다음</button>
			</div>
		</form>
	</div>
	<footer th:replace="~{layout/footer::footer_layout}"></footer>
</body>
</html>